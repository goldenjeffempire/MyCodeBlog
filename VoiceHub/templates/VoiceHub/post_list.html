{% extends 'VoiceHub/base.html' %}

{% block title %}All Posts{% endblock %}

{% block content %}
  <h1>All Posts</h1>
  <a href="{% url 'create_post' %}" class="btn">Create a new post</a>
  
  <div class="post-list">
    {% for post in posts %}
      <article class="post">
        <h2><a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a></h2>
        <p>{{ post.content|truncatewords:30 }}</p>
        <small>Created at: {{ post.created_at }}</small>
        <a href="{% url 'post_detail' post.pk %}" class="btn">Read more</a>
      </article>
    {% empty %}
      <p>No posts available.</p>
    {% endfor %}
  </div>
{% endblock %}
